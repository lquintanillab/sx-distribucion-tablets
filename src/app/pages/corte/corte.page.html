<ion-header >
    <ion-toolbar color="dark">
      <ion-buttons slot="start">
          <img class="logo ion-padding-start" src="/assets/logo.svg" (click)="goToHome()">
      </ion-buttons>
      <ion-title  class="ion-text-center">Corte</ion-title>
      <ion-buttons slot="end">
          <ion-button (click)="load()">
              <ion-icon slot="icon-only" name="refresh" ></ion-icon>
          </ion-button>
          <ion-button (click)="presentAlertMesa()">
              <ion-icon slot="icon-only" name="logo-dropbox" ></ion-icon>
          </ion-button>
      </ion-buttons>
    </ion-toolbar>
</ion-header>

<ion-content>
    <ion-list lines="none">
      <ion-item *ngFor="let corte of cortes">
        <ion-grid>
          <ion-row class="ion-align-items-center">
            <ion-col size="3">
              <ion-label color="medium" *ngIf="corte.factura" class="documento ion-text-center" (click)="atenderCorte(corte)">
                {{corte.factura}}
              </ion-label>
              <ion-label color="medium" *ngIf="!corte.factura" class="documento ion-text-center" (click)="atenderCorte(corte)">
                  {{corte.venta}}
                </ion-label>
            </ion-col>
            <ion-col size="9">
                <ion-card class="card-asignacion">
                    <ion-card-header>
                      <ion-card-title color="tertiary">
                        <ion-row>
                          <ion-col size = "10">
                              {{corte.clave}} 
                          </ion-col>
                          <ion-col size="1">
                              <ion-badge *ngIf="corte.inicio && !corte.fin"  color="success" padding-start padding-end>En Corte</ion-badge>
                            </ion-col >
                        </ion-row>
                        <ion-row>
                            <ion-col>
                            {{corte.descripcion}}
                            </ion-col>
                        </ion-row>
                      </ion-card-title>
                      <ion-card-subtitle>
                        <ion-row>
                          <ion-col size="10">
                            <ion-label color="medium" class="instruccion">
                                Instruccion: {{corte.instruccion}}  
                            </ion-label>
                            <ion-label color="medium" class="instruccion">
                              Cantidad: {{corte.cantidad}}
                            </ion-label>
                          </ion-col>
                          <ion-col size="1">
                            
                          </ion-col>
                        </ion-row>
                      </ion-card-subtitle>
                    </ion-card-header>
                </ion-card> 
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
    </ion-list> 
</ion-content>

<ion-footer>
  <ion-toolbar color="dark">
    <ion-title  class="ion-text-center" *ngIf="user" >
      {{user.nombre}}
    </ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="logout()">
        Cerrar Sesion: 
        <ion-icon  name="contact" ></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-footer>
